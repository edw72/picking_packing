{% extends "layout.html" %}

{% block title %}Editar Usuario: {{ user.username }}{% endblock %}

{% block styles %}
<style>
    .form-container { max-width: 500px; margin: 2em auto; background: white; padding: 2em; border-radius: 8px; }
    /* ... (puedes copiar otros estilos de formulario que ya tengas) ... */
</style>
{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Editando a: {{ user.username }}</h2>
    <p><a href="{{ url_for('gestionar_usuarios') }}">← Volver a la lista de usuarios</a></p>

    <form method="POST">
        <div class="form-group">
            <label for="username">Nombre de Usuario (no se puede cambiar)</label>
            <input type="text" id="username" name="username" value="{{ user.username }}" disabled>
        </div>
        <div class="form-group">
            <label for="password">Nueva Contraseña</label>
            <input type="password" id="password" name="password" placeholder="Dejar en blanco para no cambiar">
        </div>
        <div class="form-group">
            <label for="role">Rol</label>
            <select id="role" name="role">
                <option value="operario" {% if user.role == 'operario' %}selected{% endif %}>Operario</option>
                <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Administrador</option>
            </select>
        </div>
        <button type="submit" class="submit-btn" style="background-color: #007bff;">Guardar Cambios</button>
    </form>
</div>
{% endblock %}